<!DOCTYPE html>
<html lang="en">

<head>
    <meta property="og:title" content="Édition de Marvaelle — Luxury Atelier">
    <meta property="og:description" content="An expression of modern craft. The F/W '25 Collection is now available.">
    <meta property="og:url" content="https://marvaellee.netlify.app">
    <meta property="og:image" content="https://marvaellee.netlify.app/images/hero-background.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <title>Édition de Marvaelle - Luxury Atelier</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Montserrat:wght@300;400;600&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="style.css">
    <!-- Change this line in your head section -->
    <!-- Change back to the original -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>

<body>
    <div class="cursor-dot" id="cursor-dot"></div>
    <div class="cursor-outline" id="cursor-outline"></div>
    <div class="film-grain"></div>
    <header class="navbar">
        <div class="container">
            <a href="index.html" class="logo">Édition de Marvaelle</a>
            <nav>
                <ul>
                    <li><a href="men.html">Men</a></li>
                    <li><a href="women.html">Women</a></li>
                    <li><a href="index.html">Journal</a></li>

                    <li id="member-id-container" style="display: none; margin-right: 15px;">
                        <span
                            style="font-family: monospace; font-size: 11px; letter-spacing: 2px; color: #888; text-transform: uppercase;">
                            MEMBER NO. <span id="member-number"></span>
                        </span>
                    </li>

                    <li><a href="#" id="login-button">Login</a></li>
                    <li><a href="cart.html" id="cart-button">Cart (<span id="cart-count">0</span>)</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="hero">
            <div class="hero-content">
                <h1>The F/W '25 Collection</h1>
                <p>An expression of modern craft.</p>
                <a href="#selection" class="btn btn-light-outline">Explore the Collection</a>
            </div>
        </section>
        <div class="marquee-container">
            <div class="marquee-content">
                <span>ÉDITION DE MARVAELLE — FALL/WINTER '25 — WORLDWIDE SHIPPING — CRAFTED IN SILENCE — </span>
                <span>ÉDITION DE MARVAELLE — FALL/WINTER '25 — WORLDWIDE SHIPPING — CRAFTED IN SILENCE — </span>
            </div>
        </div>
        <section id="selection" class="featured-products">
            <div class="container">
                <h2>The Selection</h2>
                <div class="product-grid" id="product-grid">
                </div>
            </div>
        </section>

        <section class="brand-story">
            <div class="container-medium">
                <h2>The Craft</h2>
                <p>We are an atelier dedicated to the synthesis of timeless form and modern function. Each piece is
                    meticulously crafted from sustainably sourced materials, designed not just to be worn, but to be
                    lived in. </p>
                <a href="about.html" class="btn btn-dark">Our Story</a>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-links">
                <a href="about.html">About Us</a>
                <a href="contact.html">Contact</a>
                <a href="shipping.html">Shipping Policy</a>
                <a href="refund.html">Refund Policy</a>
                <a href="privacy.html">Privacy Policy</a>
                <a href="terms.html">Terms & Conditions</a>
            </div>
            <p>&copy; 2025 Édition de Marvaelle. All rights reserved.</p>
        </div>
    </footer>

    <div id="login-modal" class="modal">
        <div class="modal-content auth-modal" style="text-align: center; padding: 4rem 2rem;">
            <span class="close-button" id="login-close-button">&times;</span>

            <h2 style="font-family: var(--font-heading); margin-bottom: 0.5rem;">Welcome to Marvaelle</h2>
            <p style="color: #666; margin-bottom: 2rem;">Access your account to manage orders and saved items.</p>

            <div id="google_btn_container" style="display: flex; justify-content: center;"></div>

            <p style="font-size: 0.8rem; color: #999; margin-top: 2rem;">
                By continuing, you agree to our Terms of Service and Privacy Policy.
            </p>
        </div>
    </div>

    <div id="toast-container"></div>

    <script src="js/products-db.js"></script>
    <script src="js/cart.js"></script>

    <script src="js/auth.js"></script>

    <script src="js/main.js"></script>
    <script src="https://unpkg.com/lenis@1.0.45/dist/lenis.min.js"></script>
    <script>
        const lenis = new Lenis({
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            smooth: true
        });

        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }

        requestAnimationFrame(raf);
    </script>
    <div class="page-transition-curtain" id="curtain">
        <div class="loader-counter" id="loader-counter">00</div>
    </div>

    <script>
        // 1. On Load: Slide the curtain up to reveal page
        // 1. The "Cinema" Preloader
        window.addEventListener('load', () => {
            const counter = document.getElementById('loader-counter');
            const curtain = document.getElementById('curtain');

            let count = 0;
            const interval = setInterval(() => {
                count++;
                // Format as "01", "09", "99"
                counter.innerText = count < 10 ? `0${count}` : count;

                if (count >= 100) {
                    clearInterval(interval);
                    // Wait a tiny bit at 100, then lift the curtain
                    setTimeout(() => {
                        curtain.classList.add('reveal-page');
                    }, 200);
                }
            }, 20); // Adjust speed (lower is faster)
        });

        // 2. On Link Click: Slide curtain down before leaving
        document.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', function (e) {
                const href = this.getAttribute('href');

                // Ignore hash links (#) or external links
                // CORRECTED LINE:
                if (href.startsWith('#') || href.startsWith('http') || this.target === '_blank') return;

                e.preventDefault(); // Stop immediate jump

                const curtain = document.getElementById('curtain');
                curtain.classList.remove('reveal-page'); // Slide curtain back down

                // Wait for animation (1s) then go to new page
                setTimeout(() => {
                    window.location.href = href;
                }, 1000);
            });
        });
    </script>
</body>

</html>